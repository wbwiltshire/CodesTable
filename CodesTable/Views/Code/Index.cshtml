@using CodesTable.Data
@using CodesTable.Data.POCO
@model IPager<CodesTable.Data.POCO.Code>
@{  }

@{
     ViewData["Title"] = "Code Maintenance";
}
<div class="row">
     <div class="col-md-3">
          <h4>@ViewData["Title"]</h4>
     </div>
</div>

<div class="row">
     <div class="col-md-12">
          <a id="add" class="btn btn-primary btn-sm" href="/Code/Create" )>Add</a>
          <a id="refresh" class="btn btn-primary btn-sm" href="#" )>Refresh</a>
     </div>
</div>

<div class="row">
     <div class="col-md-12">
          <table id="CodeTable" ctTotalItems="@Model.RowCount" class="table table-striped tabled-bordered table-sm table-hover">
               <thead>
                    <tr class="colHeaders">
                         <th class="col-md-9" id="Name">Name</th>
                         <th class="col-md-2" id="Category">Category</th>
                         <th class="col-md-1" id="Actions" colspan="3">Actions</th>
                    </tr>
               </thead>
               <tbody id="CodeList">
                    @foreach (CodesTable.Data.POCO.Code c in Model.Entities)
                    {
                    <tr id="@c.Id" class="contextMenu-target">
                         <td>@c.Name</td>
                         <td>@c.CategoryName</td>
                         <td class="action"><a href="/Code/@c.Id" data-toggle="tooltip" title="Details"><i class="fa fa-file-text-o" aria-hidden="true"></i></a></td>
                         <td class="action"><a href="/Code/Edit/@c.Id" data-toggle="tooltip" title="Edit"><i class="fa fa-edit" aria-hidden="true"></i></a></td>
                         <td class="action"><a href="/Code/Delete/@c.Id" data-toggle="tooltip" title="Delete"><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                    </tr>
                    }
                    @if (Model.Entities.Count == 0)
                    {
                         <tr id="noRecordsFound"><td class="lead text-left text-danger" colspan="4">No Records Found!</td></tr>
                    }
               </tbody>
          </table>
     </div>
</div>

<div class="row">
     <div class="col-md-12">
          <br />
     </div>
</div>
<script id="codeListHGrid" type="text/x-handlebars-template">
     {{#CodeList}}
     <tr id="{{id}}" class="contextMenu-target">
          <td>{{name}}</td>
          <td class="action"><a href="/Task/{{id}}" data-toggle="tooltip" title="Details"><i class="fa fa-file-text-o" aria-hidden="true"></i></a></td>
          <td class="action"><a href="/Task/Edit/{{id}}" data-toggle="tooltip" title="Edit"><i class="fa fa-edit" aria-hidden="true"></i></a></td>
          <td class="action"><a href="/Task/Delete/{{id}}" data-toggle="tooltip" title="Delete"><i class="fa fa-trash" aria-hidden="true"></i></a></td>
     </tr>
     {{/CodeList}}
</script>
@section scripts {
     <script type="text/javascript" src="~/lib/moment/moment.js"></script>
     <script type="text/javascript" src="~/lib/handlebars/handlebars.js"></script>
     <script type="text/javascript" src="~/lib/turbotables.js"></script>
     <script type="text/javascript" src="~/js/ajaxcommon.js"></script>
     <script type="text/javascript" src="~/js/handlebarscommon.js"></script>
     <script type="text/javascript" src="~/js/code.js"></script>
}

